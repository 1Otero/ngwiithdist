import{a as B}from"./chunk-QL3FH7KF.js";import{a as J,b as L}from"./chunk-FRWHPUOZ.js";import"./chunk-EBC6MOXI.js";import"./chunk-K6VCXUYN.js";import"./chunk-CBRQTFZ5.js";import{a as P}from"./chunk-CV4Y6KAD.js";import{a as j,g as V,i as $,j as A,k as g}from"./chunk-X63NP7V4.js";import{Cb as O,Ib as s,Jb as p,Kb as F,Sa as l,Ta as d,U as y,Y as C,Z as c,ba as b,ha as v,ia as m,ib as w,kb as I,sb as n,tb as r,ub as D,vc as T,wc as G,yb as k,yc as E,zb as N}from"./chunk-AUUIYZ7A.js";var R=(()=>{let e=class e{constructor(i){this.httpClient=i}getHomeProducer(i){return this.httpClient.get(`${P.urllocal}/storecoordination/getstorecoordinationbyproducerid/${i}`).pipe(y(t=>(console.log(t),t)))}};e.\u0275fac=function(t){return new(t||e)(b(j))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var W=(()=>{let e=class e{constructor(){this.meStore={_storeId:null,name:"re",email:"re",description:"",status:1,codStore:"",nitStore:"",notView:0,createdDate:new Date},this.urlStore="/home/homestore/"}ngOnInit(){let i=new String(this.meStore._storeId);this.urlStore=this.urlStore.toString()+i}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=v({type:e,selectors:[["app-card-store"]],inputs:{meStore:"meStore"},decls:8,vars:4,consts:[[3,"routerLink"],[1,"bg-slate-500","w-52","p-2"]],template:function(t,a){t&1&&(n(0,"a",0)(1,"div",1)(2,"h2"),s(3),r(),n(4,"b"),s(5),r(),n(6,"p"),s(7),r()()()),t&2&&(O("routerLink",a.urlStore),l(3),p(a.meStore.name),l(2),p(a.meStore.codStore),l(2),p(a.meStore.email))},dependencies:[A]});let o=e;return o})();function te(o,e){if(o&1&&(n(0,"div")(1,"h2"),s(2),r(),n(3,"p"),s(4),r(),n(5,"p"),s(6),r(),D(7,"p"),r()),o&2){let f=N();l(2),p(f.producer.name),l(2),p(f.producer.email),l(2),p(f.producer.password)}}function oe(o,e){if(o&1&&(n(0,"div"),D(1,"app-card-store",6),r()),o&2){let f=e.$implicit;l(),I("meStore",f)}}function ie(o,e){if(o&1&&(n(0,"div",4)(1,"h2"),s(2,"Me store's"),r(),w(3,oe,2,1,"div",5),r()),o&2){let f=N();l(3),I("ngForOf",f.listStore)}}var Y=(()=>{let e=class e{constructor(i,t,a){this.router=i,this.homeService=t,this.alertPrincipalService=a,this.getInfoProducer()}getInfoProducer(){var i=0,t=localStorage.getItem("producer");if(t==null)i=this.router.getCurrentNavigation()?.extras?.state?.id;else{var a=JSON.parse(t);i=a._producerId}var S;this.homeService.getHomeProducer(i).subscribe(M=>{let h=M,x=Object.assign(h.success);if(x!==void 0||h.status!=404){x[0]==null?console.log("not yet store"):S=x.listStore,this.producer=x.producer,this.listStore=x.listStore,console.log(this.listStore),localStorage.setItem("listStore",JSON.stringify(this.listStore.map(H=>({_storeId:H._storeId,codStore:H.codStore})))),this.alertPrincipalService.showAlert({type:"success",message:"Bienvenido Yo-Producer - "+this.producer?.name});return}console.log("not yet store")})}};e.\u0275fac=function(t){return new(t||e)(d($),d(R),d(B))},e.\u0275cmp=v({type:e,selectors:[["app-home-producer"]],decls:5,vars:2,consts:[[1,"flex","flex-grow","justify-center","mt-7"],[1,"w-3/4"],[4,"ngIf"],["class","bg-gray-600 p-11",4,"ngIf"],[1,"bg-gray-600","p-11"],[4,"ngFor","ngForOf"],[3,"meStore"]],template:function(t,a){t&1&&(n(0,"body",0)(1,"div",1)(2,"div"),w(3,te,8,3,"div",2),r(),w(4,ie,4,1,"div",3),r()()),t&2&&(l(3),I("ngIf",a.producer!=null),l(),I("ngIf",a.listStore!=null&&a.listStore.length>0))},dependencies:[T,G,W]});let o=e;return o})();var q=(()=>{let e=class e{constructor(i){this.httpClient=i,this.url=P.urllocal}getStore(i){return this.httpClient.get(`${this.url}/store/getstore/${i}`).pipe(y(t=>t))}};e.\u0275fac=function(t){return new(t||e)(b(j))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var z=(()=>{let e=class e{constructor(i,t,a){this.route=i,this.storeService=t,this.dialog=a,this.store={_storeId:null,name:"Verificar",email:"Verificar",description:"Verificar",status:0,codStore:"Verificar",nitStore:"Verificar003291-1",notView:0,createdDate:new Date},this.idStoreGlobal="",this.idProducerGlobal="",console.log("params")}ngOnInit(){let i=this.route.snapshot.params;if(console.log("params"),console.log(i),i!=null){var t=i.id;this.idStoreGlobal=t;let a=localStorage.getItem("listStore");if(t==null||a==null){console.log("idStore null 404!!!");return}let S=JSON.parse(a);if(console.log(S),S.find(h=>h._storeId==t)==null){console.log("This store is private");return}this.storeService.getStore(t).subscribe(h=>{if(h.status==404){console.log("404!!!");return}this.store=h.success,console.log(this.store)})}}getCreateEventManaged(){}showDialog(){console.log("idStore: "),console.log(this.idStoreGlobal);let i=localStorage.getItem("producer");if(console.log(i),i){let t=JSON.parse(i);this.idProducerGlobal=t._producerId,console.log("producer: "),console.log(this.idProducerGlobal)}this.dialog.open(L,{data:{idProducer:this.idProducerGlobal,idStore:this.idStoreGlobal},minWidth:"500px",minHeight:"500px"})}};e.\u0275fac=function(t){return new(t||e)(d(V),d(q),d(J))},e.\u0275cmp=v({type:e,selectors:[["app-home-store"]],inputs:{store:"store"},decls:47,vars:2,consts:[[1,"flex","flex-grow","justify-center"],[1,"w-4/5"],[1,"w-full"],[3,"click"],[1,"flex","flex-grow","justify-around","w-full"],[1,"w-11/12","md:flex","md:flex-nowrap","gap-3","md:p-5"],[1,"md:w-2/3"]],template:function(t,a){t&1&&(n(0,"body",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div")(5,"div"),s(6),r(),n(7,"div"),s(8),r(),n(9,"div")(10,"b"),s(11,"cargar bodega"),r()(),n(12,"div")(13,"button",3),k("click",function(){return a.showDialog()}),n(14,"h2"),s(15,"(+) Create event"),r()()()()()(),n(16,"div",2)(17,"div")(18,"h2"),s(19,"Me workSpace"),r(),n(20,"body",4)(21,"div",5)(22,"div",6)(23,"h2"),s(24,"Eventos"),r()(),n(25,"div",6)(26,"h2"),s(27,"Productos"),r()(),n(28,"div",6)(29,"h2"),s(30,"Tickets"),r()(),n(31,"div",6)(32,"h2"),s(33,"Users"),r()(),n(34,"div",6)(35,"h2"),s(36,"Inventario"),r()(),n(37,"div",6)(38,"h2"),s(39,"Bodega"),r()()()()()(),n(40,"div")(41,"div")(42,"div")(43,"h2"),s(44,"me events"),r(),n(45,"div"),s(46," Debe venir una lista de eventos "),r()()()()()()),t&2&&(l(6),F(" ",a.store.name," "),l(2),F(" ",a.store.nitStore," "))}});let o=e;return o})();var ne=[{path:"homeproducer",component:Y},{path:"homestore/:id",component:z}],K=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=c({imports:[g.forChild(ne),g]});let o=e;return o})();var se=[],Q=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=c({imports:[g.forChild(se),g]});let o=e;return o})();var X=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=c({imports:[E,Q]});let o=e;return o})();var $e=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=c({imports:[E,K,X]});let o=e;return o})();export{$e as HomeModule};
